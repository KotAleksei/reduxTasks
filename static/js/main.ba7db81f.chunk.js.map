{"version":3,"sources":["components/orderingFood/foodReducer.js","components/changingClothes/clothesReducer.js","api/foods.js","api/clothes.js","components/store.js","components/orderingFood/Food.js","components/changingClothes/Clothes.js","App.js","index.js"],"names":["Array","prototype","move","index","step","saveThis","this","next","foodReducer","state","action","type","itemMove","foods","indexOf","items","clothesReducer","inputValue","item","newItem","clothes","itemChooses","getFoods","getFoodItemMove","getFoodIndex","getClothes","getClothesIndex","getClothesItem","reducer","combineReducers","initialState","store","createStore","connect","dispatch","order","food","moveUp","moveDown","disabledMoveUpBtn","disabledMoveDownBtn","length","foodRef","useRef","loseFocus","event","childrenAppElement","target","parentElement","current","foodsAppElement","showItemElemnt","useEffect","document","addEventListener","removeEventListener","className","ref","disabled","onClick","map","idx","key","setValue","value","orderClothes","cloth","handleSubmit","newItems","trim","slice","arrOfIndex","autoFocus","onChange","e","onKeyDown","HomePage","App","to","exact","path","component","Food","Clothes","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.ba7db81f.chunk.js","sourcesContent":["const MOVE_UP = 'MOVE_UP';\nconst MOVE_DOWN = 'MOVE_DOWN';\nconst ORDER = 'ORDER';\n\nArray.prototype.move = function (index, step) {\n  const saveThis = [...this];\n  let next = saveThis[index + step];\n  saveThis[index + step] = saveThis[index];\n  saveThis[index] = next;\n  return saveThis;\n}\n\nexport const order = (item) => ({type: ORDER, itemMove: item})\nexport const moveUp = (items, index) => ({\n    type: MOVE_UP,\n    items: items.move(index, -1),\n    index: index - 1\n  });\nexport const moveDown = (items, index) => ({\n  type: MOVE_DOWN,\n  items: items.move(index, 1),\n  index: index + 1\n});\n\n const foodReducer = (state = {}, action ) => {\n  switch(action.type) {\n    case ORDER: \n      return {\n        ...state,\n        itemMove: action.itemMove,\n        index: state.foods.indexOf(action.itemMove)\n      };\n    case MOVE_DOWN: \n      return {\n        ...state,\n        foods: action.items,\n        index: action.index\n      };\n    case MOVE_UP:\n      return {\n        ...state,\n        foods: action.items,\n        index: action.index\n      };\n    default:\n      return state;\n  }\n}\n\nexport default foodReducer;","const ORDER = 'ORDER';\nconst SET_VALUE = 'SET_VALUE';\nconst HANDLE_SUBMIT = 'HANDLE_SUBMIT';\n\nexport const orderClothes = (item, index) => {\n  return ({type: 'ORDER', index, item})\n};\nexport const setValue = (value, items) => {\n  const newItems = [...items];\n  return {\n    type: SET_VALUE,\n    newItem: value,\n    items: newItems\n  }\n}\nexport const handleSubmit = (index, items, inputValue) => {\n  let newItems = [...items];\n  newItems[index] = inputValue; \n  if(newItems[index].trim() === ''){\n    newItems = [\n      ...newItems.slice(0, index),\n      ...newItems.slice(index + 1)\n    ];\n  }\n  return {\n    type: HANDLE_SUBMIT,\n    inputValue: '',\n    index: null,\n    items: newItems\n  }\n}\n\nconst clothesReducer = (state = {}, action) => {\n  switch (action.type){\n    case ORDER:\n      return {\n        ...state,\n        index: action.index,\n        inputValue: action.item\n      }\n    case SET_VALUE:\n      return {\n        ...state,\n        inputValue: action.newItem,\n        clothes: action.items\n      }\n    case HANDLE_SUBMIT:\n      return {\n        ...state,\n        inputValue: action.inputValue,\n        index: action.index,\n        clothes: action.items\n      }\n    default:\n      return state;\n  }\n}\n\nexport default clothesReducer;","const foods = {\n  foods: ['Apple', 'Bread', 'Carrot', 'Dumplings', 'Eggs', 'Fish', 'Carlic', 'Honey', 'Ice Cream', 'Jam'],\n  itemMove: '',\n  index: null,\n};\n\nexport default foods;","const   clothes = {\n  clothes: ['Apron', 'Belt', 'Cardigan', 'Dress', 'Earrings', 'Fur coat', 'Gloves', 'Hat'],\n  index: null,\n  itemChooses: '',\n  inputValue: null\n};\n\nexport default clothes;","import { createStore, combineReducers } from 'redux';\nimport foodReducer from './orderingFood/foodReducer';\nimport clothesReducer from './changingClothes/clothesReducer';\nimport foods from '../api/foods';\nimport clothes from '../api/clothes';\n\n// for Foods App\nexport const getFoods = state => state.foods.foods;\nexport const getFoodItemMove = state => state.foods.itemMove;\nexport const getFoodIndex = state => state.foods.index;\n\n// for Clothes App\nexport const getClothes = state => state.clothes.clothes;\nexport const getClothesItemChooses = state => state.clothes.itemChooses;\nexport const getClothesIndex = state => state.clothes.index;\nexport const getClothesItem = state => state.clothes.inputValue;\n\nconst reducer = combineReducers({\n  foods: foodReducer,\n  clothes: clothesReducer\n})\n\nconst initialState = {\n  foods,\n  clothes\n};\nconst store = createStore(reducer, initialState);\n\nexport default store;","import React, { useEffect, useRef } from 'react';\nimport { connect } from 'react-redux'; \nimport { getFoods, getFoodIndex, getFoodItemMove } from '../store';\nimport { order, moveUp, moveDown } from './foodReducer';\nimport './style.css';\n\nconst Food = ({foods, index, itemMove, order, moveUp, moveDown}) => {\n  const disabledMoveUpBtn = itemMove && index > 0 ? false : true;\n  const disabledMoveDownBtn = itemMove && index < foods.length - 1 ? false : true;\n  const foodRef = useRef(null);\n\n  const loseFocus = (event) => { \n    \n    const childrenAppElement = event.target.parentElement === foodRef.current;\n    const foodsAppElement = event.target === foodRef.current;\n    let showItemElemnt = null;\n    if(event.target.parentElement) {\n      showItemElemnt = event.target.parentElement.parentElement === foodRef.current;\n    }\n    const isLoseFocus = showItemElemnt || foodsAppElement || childrenAppElement;\n\n    return isLoseFocus ? null : order('');\n  }\n\n  useEffect(() => {\n    document.addEventListener('click', loseFocus);\n    return () => {\n      document.removeEventListener('click', loseFocus);\n    }\n  })\n \n  return (\n    <div className='foodsApp' ref={foodRef} >\n      <h2 className=\"foodsTittle\">Ordering food</h2>\n      <button disabled={disabledMoveUpBtn} onClick={() => moveUp(foods, index)} className=\"moveUpBtn\">\n        Move Up\n      </button>\n        { foods.map((food, idx) => (\n            <div \n              key={food}\n              onClick={() => order(food)}\n              className={food === itemMove ? `${food} selectedFood` : `${food}`}\n            >\n              { idx + 1 } { food }\n            </div>\n          )) }\n      <button disabled={disabledMoveDownBtn} onClick={() => moveDown(foods, index)} className=\"moveDownBtn\"> \n          Move Down\n      </button>\n      {\n        itemMove \n        ? <div className='showFood'>\n            <div>Order Food</div>\n            <div className=\"showItem\">{itemMove}</div>\n          </div> \n        : null\n      }\n      </div>\n  )\n}\nconst getData = state => ({\n  foods: getFoods(state),\n  index: getFoodIndex(state),\n  itemMove: getFoodItemMove(state)\n})\n\nconst getMethods = dispatch => ({\n  order: (food) => dispatch(order(food)),\n  moveUp: (foods, index) => dispatch(moveUp(foods, index)),\n  moveDown: (foods, index) => dispatch(moveDown(foods, index))\n});\n\nexport default connect(\n  getData,\n  getMethods\n)(Food);","import React from 'react';\nimport { connect } from 'react-redux'; \nimport { getClothes, getClothesIndex, getClothesItem } from '../store';\nimport { setValue, orderClothes, handleSubmit } from './clothesReducer';\nimport './style.css';\n\nconst Clothes = ({clothes, index, setValue, orderClothes, inputValue, handleSubmit}) => {\n  const arrOfIndex = clothes.map((cloth, idx) => ({ [idx]: cloth}));\n  return (\n    <div>\n      <ul className=\"clothesList\">\n        { clothes.map((cloth, idx) => (\n            <li key={idx} className=\"clothesItem\" >\n            {\n              arrOfIndex.indexOf(arrOfIndex[idx]) === index \n              ? <input \n                  type=\"text\" \n                  value={inputValue} \n                  autoFocus \n                  onChange={e => {\n                    setValue(e.target.value, clothes)}} \n                  onKeyDown={e => e.key === 'Enter' ? handleSubmit( index, clothes, inputValue) : null}\n                  />\n              : <>\n                  <span className=\"clotheName\">{cloth}</span> \n                  <button onClick={() => orderClothes(cloth, idx)} className=\"closeBtn\">Edit</button>\n                </>\n            }\n            </li>\n          )) }\n      </ul>\n    </div>\n  )\n}\n\nconst getData = state => ({\n  clothes: getClothes(state),\n  index: getClothesIndex(state),\n  inputValue: getClothesItem(state)\n});\n\nconst getMethods = dispatch => ({\n  setValue: (value, clothes) => dispatch( setValue(value, clothes)),\n  orderClothes: (cloth, index) => dispatch( orderClothes(cloth, index)),\n  handleSubmit: (index, clothes, newItem) => dispatch( handleSubmit(index, clothes, newItem))\n})\n\nexport default connect(\n  getData,\n  getMethods\n)(Clothes);","import React from 'react';\nimport './App.css';\nimport {\n  BrowserRouter as Router,\n  Route,\n  NavLink,\n  Switch\n} from 'react-router-dom';\nimport Food from './components/orderingFood/Food';\nimport Clothes from './components/changingClothes/Clothes';\n\n\nfunction App() {\n  return (\n    <Router >\n      <nav>\n        <ul className='navPanel'>\n          <li>\n            <NavLink to='/reduxTasks' exact >Home</NavLink>\n          </li>\n          <li>\n            <NavLink to='/reduxTasks/food' >Ordering Food</NavLink>\n          </li>\n          <li>\n            <NavLink to='/reduxTasks/clothes' >Changing Clothes</NavLink>\n          </li>\n        </ul>\n      </nav>\n      <Switch>\n          <Route path='/reduxTasks' exact component={HomePage} />\n          <Route path='/reduxTasks/food' component={Food}/>\n          <Route path='/reduxTasks/clothes' component={Clothes} />\n      </Switch>\n    </Router>\n  );\n}\n\nconst HomePage = () => <h1 className=\"homePage\">Home Page</h1>\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './components/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n  , document.getElementById('root'));\n\n"],"sourceRoot":""}